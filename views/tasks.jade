extends layout

block content

	ul
		each task in tasks
			li= task.name


	//- .list
	//- 	.item.add.task
	//- 		div.action
	//- 			form(action='/task', method='POST')
	//- 				input(type='hidden', value='true', name='all_done')
	//- 				input(type='hidden', value=locals._csrf, name='_csrf')
	//- 				input(type='submit', class='btn btn-success btn-xs', value='all_done')
	//- 			form(action='/task', method='POST')
	//- 				input(type='hidden', value=locals._csrf, name='_csrf')
	//- 				div.name
	//- 					input(type='text', name='name', palceholder='Nueva tarea')
	//- 				div.delete
	//- 					input.btn.btn-primary.btn-sm(type='submit', value='add')
	//- 	if(tasks.length === 0)
	//- 		| No hay tareas
	//- 	each task, index in tasks
	//- 		.item
	//- 			div.action
	//- 				form(action='/task/#{task._id}', method='POST')
	//- 				input(type='hidden', value=task._id.toString(), name='id')
	//- 				input(type='hidden', value='true', name='completed')
	//- 				input(type='hidden', value=locals._csrf, name='_csrf')
	//- 				input(type='submit', class='btn btn-success btn-xs task-done', value='done')
	//- 			div.num
	//- 				span=index+1
	//- 					|.&nbsp;
	//- 			div.name
	//- 				span.name=task.name
	//- 			div.delete
	//- 				a(class='btn btn-danger btn-xs task-delete', data-task-id=task._id.toString(), data-csrf=locals._csrf) delete